{"version":3,"file":"script.js","sources":["js/templates/bottlePreview.js","js/index.js"],"sourcesContent":["export function bottlePreviewTemplate (altText, imageData) {\n\n    const template = `\n    <img alt=\"${altText}\" src=\"${imageData}\" class=\"image-preview\"> \n    `;\n\n    return template;\n\n}","\"use strict\";\nconsole.log('it worked');\n\n//////////////////////\n// Imports\n//////////////////////\nimport {bottlePreviewTemplate} from './templates/bottlePreview.js';\n\n//////////////////////\n// DOM Elements\n//////////////////////\n\n// get file \nconst fileInput = document.getElementById('fileInput');\nconst sectionUpload = document.getElementById('section-upload');\n// const imagePreview = document.getElementById('imagePreview');\n\n\n//////////////////////\n// Functions\n//////////////////////\n\nfunction putImageInDom() {\n\n    // console.log(\"put image in the DOM\");\n    const bottleImageDataUrl = localStorage.getItem('bottle-image');\n\n    if(bottleImageDataUrl) { //check if an image exists within localStorage\n\n        sectionUpload.innerHTML = ''; //clear current image in the DOM\n\n        const imagePreviewElement = bottlePreviewTemplate('uploaded bottle', bottleImageDataUrl); //call function to populate template\n\n        sectionUpload.insertAdjacentHTML('beforeend', imagePreviewElement); //insert into the DOM\n\n    };\n};\n\n//////////////////////\n// Event listeners\n//////////////////////\ndocument.addEventListener(\"DOMContentLoaded\", putImageInDom);\nfileInput.addEventListener(\"change\", (e) => { //select file input button\n    \n    if (localStorage.getItem('bottle-image')) { // check if there is image data within local storage\n        localStorage.setItem(\"bottle-image\", ''); //clear localStorage\n    } else {\n        console.log('nothing there');\n    }\n\n    const reader = new FileReader(); //create new reader instance to convert to data url\n\n    reader.readAsDataURL(e.target.files[0]); //pass file into reader\n\n    reader.addEventListener(\"load\", () => { //add event listener to the load event\n        localStorage.setItem(\"bottle-image\", reader.result);\n        putImageInDom();\n    });\n\n});\n\n"],"names":["bottlePreviewTemplate","altText","imageData","template","console","log","fileInput","document","getElementById","sectionUpload","putImageInDom","bottleImageDataUrl","localStorage","getItem","innerHTML","imagePreviewElement","insertAdjacentHTML","addEventListener","e","setItem","reader","FileReader","readAsDataURL","target","files","result"],"mappings":";;;IAAO,SAASA,qBAAT,CAAgCC,OAAhC,EAAyCC,SAAzC,EAAoD;IAEvD,MAAMC,QAAQ,8BACFF,OADE,sBACeC,SADf,uCAAd;IAIA,SAAOC,QAAP;IAEH;;ICPDC,OAAO,CAACC,GAAR,CAAY,WAAZ;IAQA;IACA;IAEA;;IACA,IAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;IACA,IAAMC,aAAa,GAAGF,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAtB;IAIA;IACA;IACA;;IAEA,SAASE,aAAT,GAAyB;IAErB;IACA,MAAMC,kBAAkB,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAA3B;;IAEA,MAAGF,kBAAH,EAAuB;IAAE;IAErBF,IAAAA,aAAa,CAACK,SAAd,GAA0B,EAA1B,CAFmB;;IAInB,QAAMC,mBAAmB,GAAGf,qBAAqB,CAAC,iBAAD,EAAoBW,kBAApB,CAAjD,CAJmB;;IAMnBF,IAAAA,aAAa,CAACO,kBAAd,CAAiC,WAAjC,EAA8CD,mBAA9C,EANmB;IAQtB;IACJ;IAGD;IACA;;IACAR,QAAQ,CAACU,gBAAT,CAA0B,kBAA1B,EAA8CP,aAA9C;IACAJ,SAAS,CAACW,gBAAV,CAA2B,QAA3B,EAAqC,UAACC,CAAD,EAAO;IAAE;IAE1C,MAAIN,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAJ,EAA0C;IAAE;IACxCD,IAAAA,YAAY,CAACO,OAAb,CAAqB,cAArB,EAAqC,EAArC,EADsC;IAEzC,GAFD,MAEO;IACHf,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;IACH;;IAED,MAAMe,MAAM,GAAG,IAAIC,UAAJ,EAAf,CARwC;;IAUxCD,EAAAA,MAAM,CAACE,aAAP,CAAqBJ,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,CAArB,EAVwC;;IAYxCJ,EAAAA,MAAM,CAACH,gBAAP,CAAwB,MAAxB,EAAgC,YAAM;IAAE;IACpCL,IAAAA,YAAY,CAACO,OAAb,CAAqB,cAArB,EAAqCC,MAAM,CAACK,MAA5C;IACAf,IAAAA,aAAa;IAChB,GAHD;IAKH,CAjBD;;;;;;"}